# 天马前端游戏ROM管理器

## 简介

天马前端游戏ROM管理器是一款专为管理游戏ROM集合而设计的桌面应用程序。该软件主要用于管理和展示Pegasus前端的游戏ROM集合，支持元数据刮削和媒体资源管理，特别适合复古游戏爱好者、游戏前端用户以及游戏收藏家使用。

## 主要功能特性

### V1.1.0发布
- 支持在线刮削（汉化游戏），批量添加游戏，排序，筛选检索等功能
- ![界面截图](https://github.com/wang1025475397/Pegasus_GameRomManager/blob/main/%E7%95%8C%E9%9D%A2%E6%88%AA%E5%9B%BE.png)

### 🎮 游戏管理
- **自动扫描与解析**：扫描指定目录及其子目录下的 `metadata.pegasus.txt` 文件，自动提取游戏和平台信息
- **多平台支持**：支持超过300个游戏平台，包括任天堂、索尼、世嘉、微软、街机及电脑平台
- **ROM文件检查**：实时检查ROM文件存在性状态，缺失文件以红色高亮显示
- **批量操作**：支持批量刮削和批量翻译功能
- **游戏编辑**：可手动编辑游戏信息和元数据

### 📄 元数据管理
完整的Pegasus格式元数据支持，包括：

**平台元数据**
- collection（平台名称）、shortname（平台简称）
- extensions（文件扩展名过滤）
- launch（启动命令）、workdir（工作目录）
- summary（简短描述）、description（详细描述）
- 排序和过滤规则

**游戏元数据**
- 游戏标题、文件路径
- 开发商、发行商、游戏类型
- 玩家人数、发布日期、评分
- 简介和详细描述
- 自定义字段支持

### 🎨 媒体资源管理
- **多类型媒体支持**：封面、视频、Logo媒体资源
- **自动关联**：根据元数据自动关联游戏媒体资源
- **媒体缓存**：缓存下载的媒体文件，提高响应速度
- **格式支持**：
  - 图片：PNG, JPG, JPEG, GIF, BMP, WEBP
  - 视频：MP4, AVI, MKV, WEBM, MOV

### 🌐 在线数据刮削
集成 ScreenScraper.fr 服务，支持：
- **多种查询方式**：通过文件名、CRC、SHA1、MD5等查询游戏信息，支持汉化游戏媒体数据刮削
- **优先级区域**：可设置多个区域优先级（日本、美国、欧洲等）
- **多种刮削模式**：重新刮削、增量刮削等
- **智能缓存**：支持API响应缓存，减少网络请求

### 🌍 多语言翻译
支持多种翻译引擎：
- Google翻译
- 百度翻译
- DeepL翻译
- OpenAI翻译

翻译功能支持批量处理，可快速将游戏信息翻译为多种语言。

### ⚙️ 缓存系统
完善的缓存机制，显著提升性能：
- **API缓存**：缓存API响应数据，减少网络请求
- **媒体缓存**：缓存下载的媒体文件
- **灵活配置**：支持缓存开关、有效期设置、缓存模式选择
- **智能管理**：自动清理过期缓存，支持手动管理和统计查看

### 🎯 用户体验
- **三栏式布局**：左侧平台列表、中间游戏列表、右侧游戏详情，直观清晰
- **多线程处理**：所有耗时操作都在后台线程执行，界面流畅不卡顿
- **状态提示**：实时显示扫描进度和操作状态
- **配置管理**：通过图形界面轻松管理所有配置
- **防抖机制**：游戏选择采用防抖机制，避免频繁切换造成的性能问题

## 使用方法

### 启动程序
1. 双击程序图标启动软件
2. 等待启动画面加载完成
3. 进入主界面

### 基本操作流程

1. **选择ROM目录**
   - 点击工具栏的"选择目录"按钮
   - 选择存放游戏ROM的根目录

2. **扫描游戏**
   - 点击"扫描"按钮加载游戏数据
   - 等待扫描完成

3. **浏览游戏**
   - 在左侧平台列表中选择平台
   - 在中间游戏列表中查看游戏（红色表示ROM文件缺失）
   - 点击游戏查看详情

4. **刮削数据**
   - 选择需要刮削的游戏
   - 点击"刮削"按钮从在线数据库获取元数据
   - 配置刮削选项（优先级区域、刮削模式等）

5. **翻译内容**
   - 选择需要翻译的游戏
   - 点击"翻译"按钮
   - 选择目标语言和服务

## 目录结构要求

程序期望以下目录结构：

```
游戏根目录/
├── 平台1/
│   ├── metadata.pegasus.txt 或 metadata.txt
│   ├── media/ 或 .media/
│   │   ├── 游戏1封面.png
│   │   ├── 游戏1截图1.png
│   │   └── ...
│   ├── 游戏1.rom
│   └── 游戏2.rom
├── 平台2/
│   ├── metadata.pegasus.txt 或 metadata.txt
│   └── ...
└── ...
```

## 配置选项

### 刮削配置
- **优先级区域**：设置多个区域的优先顺序（日本、美国、欧洲等）
- **刮削模式**：重新刮削或增量刮削
- **缓存设置**：启用/禁用缓存、缓存有效期、缓存模式
- **媒体缓存限制**：设置媒体缓存的最大大小

### 翻译配置
- **翻译服务选择**：Google、百度、DeepL、OpenAI
- **目标语言设置**：支持多种目标语言
- **API密钥配置**：百度、DeepL、OpenAI需要配置相应的API密钥

### 路径配置
- **默认ROM路径**：设置常用的游戏ROM目录
- **媒体下载路径**：配置媒体资源的下载位置

## 系统要求

- **操作系统**：Windows、Linux、macOS
- **磁盘空间**：足够的硬盘空间存储游戏ROM和媒体资源
- **网络连接**：稳定的网络连接（用于在线刮削和翻译功能）

## 常见问题

### 扫描不到游戏
- 确认选择的目录包含 `metadata.pegasus.txt` 文件
- 检查文件权限，确保软件有读取权限
- 确认metadata文件格式正确

### 刮削失败
- 检查网络连接（国内环境较慢或者失败）
- 确认ScreenScraper账户配置正确
- 检查API限制和配额

### 媒体资源不显示
- 确认媒体文件路径正确
- 检查文件格式是否支持
- 确认文件没有被损坏

### 翻译功能异常
- 检查网络连接
- 确认翻译服务API密钥配置正确
- 检查翻译服务是否可用

## 版本信息

**当前版本**：1.1.0

## 许可证

MIT License
